(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4559cbfc"],{"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3"),r("ac1f"),r("00b4");var o=r("6b75");function a(t,e){if(t){if("string"===typeof t)return Object(o["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(o["a"])(t,e):void 0}}},"0c6d":function(t,e,r){"use strict";r("d3b7");var o,a=r("bc3a"),n=r.n(a),i=r("5c96"),l=r("4360"),s=r("5fc1"),c=void 0;o="http://leju.bufan.cloud";var u=n.a.create({baseURL:o,timeout:5e3});u.interceptors.request.use((function(t){return Object(s["a"])()&&(t.headers["token"]=Object(s["a"])()),t}),(function(t){return console.log(t),Promise.reject(t)})),u.interceptors.response.use((function(t){var e=t.data;return 2e4!==e.code?(Object(i["Message"])({message:e.message||"Error",type:"error",duration:5e3}),20002===e.code&&(Object(s["c"])(),Object(s["d"])(),c.$router.push("/login")),50008!==e.code&&50012!==e.code&&50014!==e.code||i["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){l["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(e.message||"Error"))):e}),(function(t){return console.log("err"+t),Object(i["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)})),e["a"]=u},1148:function(t,e,r){"use strict";var o=r("a691"),a=r("1d80");t.exports="".repeat||function(t){var e=String(a(this)),r="",n=o(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r}},"1b62":function(t,e,r){"use strict";var o=r("5fc1");e["a"]={data:function(){return{page:{currentPage:1,size:10,pageSizes:[10,15,20,25],total:0},uploadfilesOss:"/lejuAdmin/material/uploadFileOss"}},computed:{token:function(){return{token:Object(o["a"])()}}}}},2853:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"head"},[r("el-card",{staticClass:"card",attrs:{shadow:"never"}},[r("el-steps",{attrs:{active:t.active,"finish-status":"success"}},[r("el-step",{attrs:{title:"商品基本信息"}}),r("el-step",{attrs:{title:"添加库存信息"}}),r("el-step",{attrs:{title:"添加移动端详情"}})],1)],1)],1),r("div",{staticClass:"content"},[r("el-form",{attrs:{model:t.form,"label-width":"80px"}},[1===t.active?r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix"},[r("span",[t._v("基本信息")])]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"商品名称"}},[r("el-input",{attrs:{placeholder:""},model:{value:t.form.product.name,callback:function(e){t.$set(t.form.product,"name",e)},expression:"form.product.name"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"商品编码"}},[r("el-input",{attrs:{placeholder:""},model:{value:t.form.product.productSn,callback:function(e){t.$set(t.form.product,"productSn",e)},expression:"form.product.productSn"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"商品分类"}},[r("el-select",{attrs:{placeholder:"品牌"},on:{change:t.getCategoryName},model:{value:t.form.product.productCategoryId,callback:function(e){t.$set(t.form.product,"productCategoryId",e)},expression:"form.product.productCategoryId"}},t._l(t.leju,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"商品品牌"}},[r("el-select",{attrs:{placeholder:"品牌"},on:{change:t.getBrandName},model:{value:t.form.product.brandId,callback:function(e){t.$set(t.form.product,"brandId",e)},expression:"form.product.brandId"}},t._l(t.brandList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"商品描述"}},[r("el-input",{attrs:{id:"",type:"textarea",placeholder:"摘要",rows:"3"},model:{value:t.form.product.description,callback:function(e){t.$set(t.form.product,"description",e)},expression:"form.product.description"}})],1)],1)],1),r("div",{staticClass:"clearfix"},[r("span",[t._v("商品属性")])]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"商品原价"}},[r("el-input-number",{attrs:{size:"mini",label:"描述文字"},model:{value:t.form.product.originalPrice,callback:function(e){t.$set(t.form.product,"originalPrice",e)},expression:"form.product.originalPrice"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"商品原价"}},[r("el-select",{attrs:{size:"mini",disabled:"",placeholder:"没有促销使用原价"},model:{value:t.form.product.promotionType,callback:function(e){t.$set(t.form.product,"promotionType",e)},expression:"form.product.promotionType"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"活动价格"}},[r("el-input-number",{attrs:{disabled:"",size:"mini",label:"描述文字"},model:{value:t.form.product.promotionPrice,callback:function(e){t.$set(t.form.product,"promotionPrice",e)},expression:"form.product.promotionPrice"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"重量(kg)"}},[r("el-input-number",{attrs:{size:"mini",label:"描述文字"},model:{value:t.form.product.weight,callback:function(e){t.$set(t.form.product,"weight",e)},expression:"form.product.weight"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"审核状态"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form.product.verifyStatus,callback:function(e){t.$set(t.form.product,"verifyStatus",e)},expression:"form.product.verifyStatus"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"是否上架"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form.product.publishStatus,callback:function(e){t.$set(t.form.product,"publishStatus",e)},expression:"form.product.publishStatus"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/lejuAdmin/material/uploadFileOss",headers:t.token,"show-file-list":!1,"on-success":t.handleAvatarSuccess}},[t.form.product.pic?r("img",{staticClass:"avatar",attrs:{src:t.form.product.pic}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),r("div",{staticClass:"clearfix"},[r("span",[t._v("其他信息")])]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"推荐状态"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form.product.recommendStatus,callback:function(e){t.$set(t.form.product,"recommendStatus",e)},expression:"form.product.recommendStatus"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"新品状态"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form.product.newStatus,callback:function(e){t.$set(t.form.product,"newStatus",e)},expression:"form.product.newStatus"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"预告商品"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form.product.previewStatus,callback:function(e){t.$set(t.form.product,"previewStatus",e)},expression:"form.product.previewStatus"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"关键词"}},[r("el-input",{attrs:{placeholder:"多个关键词之间请以逗号分隔"},model:{value:t.form.product.keywords,callback:function(e){t.$set(t.form.product,"keywords",e)},expression:"form.product.keywords"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"库存预警"}},[r("el-input-number",{attrs:{size:"mini",label:""},model:{value:t.form.product.lowStock,callback:function(e){t.$set(t.form.product,"lowStock",e)},expression:"form.product.lowStock"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"商品排序"}},[r("el-input-number",{attrs:{size:"mini",label:""},model:{value:t.form.product.sort,callback:function(e){t.$set(t.form.product,"sort",e)},expression:"form.product.sort"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",[r("el-form-item",{attrs:{label:"产品服务"}},[r("el-checkbox-group",{on:{change:t.valChange},model:{value:t.serviceIds,callback:function(e){t.serviceIds=e},expression:"serviceIds"}},[r("el-checkbox",{attrs:{label:"1"}},[t._v("无忧退货")]),r("el-checkbox",{attrs:{label:"2"}},[t._v("快速退款")]),r("el-checkbox",{attrs:{label:"3"}},[t._v("免费包邮")])],1)],1)],1)],1),r("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.nextStep}},[t._v("下一步,填写库存信息")])],1)],1)],1):t._e(),2===t.active?r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix"},[r("span",[t._v("商品sku信息")])]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"标题"}},[r("el-input",{attrs:{placeholder:""},model:{value:t.form.product.detailTitle,callback:function(e){t.$set(t.form.product,"detailTitle",e)},expression:"form.product.detailTitle"}})],1)],1),r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{label:"副标题"}},[r("el-input",{attrs:{placeholder:""},model:{value:t.form.product.subTitle,callback:function(e){t.$set(t.form.product,"subTitle",e)},expression:"form.product.subTitle"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",[r("el-form-item",{attrs:{label:"画册图片"}},[r("el-upload",{attrs:{action:"/lejuAdmin/material/uploadFileOss",headers:t.token,"list-type":"picture-card",limit:5,"on-success":t.uploadImg},scopedSlots:t._u([{key:"file",fn:function(e){var o=e.file;return r("div",{},[r("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:o.url,alt:""}}),r("span",{staticClass:"el-upload-list__item-actions"},[r("span",{staticClass:"el-upload-list__item-preview",on:{click:function(e){return t.handlePictureCardPreview(o)}}},[r("i",{staticClass:"el-icon-zoom-in"})]),t.disabled?t._e():r("span",{staticClass:"el-upload-list__item-delete"},[r("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,3704629179)},[r("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"}),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb,文件不超过5个")])]),r("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)],1)],1),r("el-form-item",{attrs:{label:"sku设置"}},[t.colorList.length>=1?r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticStyle:{"margin-right":"20px"}},[t._v("颜色:")]),t._l(t.colorList,(function(e,o){return r("span",{key:e.name},[r("el-checkbox",{attrs:{label:e.name,indeterminate:!1},model:{value:e.isselect,callback:function(r){t.$set(e,"isselect",r)},expression:"item.isselect"}}),r("el-button",{staticStyle:{color:"red",margin:"0 10px"},attrs:{type:"text"},on:{click:function(e){return t.delColor(o)}}},[t._v("删除")])],1)}))],2)],1):t._e(),t.sizeList.length>=1?r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticStyle:{"margin-right":"20px","margin-left":"10px"}},[t._v("大小:")]),t._l(t.sizeList,(function(e,o){return r("span",{key:e.name},[r("el-checkbox",{attrs:{label:e.name,indeterminate:!1},model:{value:e.isselect,callback:function(r){t.$set(e,"isselect",r)},expression:"item.isselect"}}),r("el-button",{staticStyle:{color:"red",margin:"0 10px"},attrs:{type:"text"},on:{click:function(e){return t.delSize(o)}}},[t._v("删除")])],1)}))],2)],1):t._e(),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("el-input",{attrs:{clearable:"",placeholder:"颜色",size:"normal"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),r("el-col",{attrs:{span:3}},[r("el-button",{on:{click:t.addColor}},[t._v("创建颜色选项")])],1),r("el-col",{attrs:{span:5}},[r("el-input",{attrs:{clearable:"",placeholder:"大小",size:"normal"},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}})],1),r("el-col",{attrs:{span:3}},[r("el-button",{on:{click:t.addSize}},[t._v("创建大小选项")])],1),r("el-col",{attrs:{span:6}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addSkuList}},[t._v("生成sku列表")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addSkuRow}},[t._v("新增sku")])],1)],1),t.form.pmsSkuStockList.length>0?r("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[r("el-col",[r("el-table",{attrs:{data:t.form.pmsSkuStockList,border:"",stripe:""}},[r("el-table-column",{attrs:{label:"#",fixed:"",type:"index",width:"50"}}),r("el-table-column",{attrs:{label:"图片",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/lejuAdmin/material/uploadFileOss",headers:t.token,"show-file-list":!1,"on-success":function(r){return t.handleAvatarSuccessSku(r.data.fileUrl,e.$index)}}},[e.row.pic?r("img",{staticClass:"avatar",attrs:{width:"100",height:"100",src:e.row.pic}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])]}}],null,!1,3453081169)}),r("el-table-column",{attrs:{label:"颜色",prop:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:""},model:{value:e.row.spData[0].value,callback:function(r){t.$set(e.row.spData[0],"value",r)},expression:"scope.row.spData[0].value"}})]}}],null,!1,511374816)}),r("el-table-column",{attrs:{label:"大小",prop:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:""},model:{value:e.row.spData[1].value,callback:function(r){t.$set(e.row.spData[1],"value",r)},expression:"scope.row.spData[1].value"}})]}}],null,!1,3092233793)}),r("el-table-column",{attrs:{label:"库存",prop:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:""},model:{value:e.row.stock,callback:function(r){t.$set(e.row,"stock",r)},expression:"scope.row.stock"}})]}}],null,!1,3119230752)}),r("el-table-column",{attrs:{label:"预警库存",prop:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:""},model:{value:e.row.lowStock,callback:function(r){t.$set(e.row,"lowStock",r)},expression:"scope.row.lowStock"}})]}}],null,!1,677839988)}),r("el-table-column",{attrs:{label:"锁定库存",prop:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:""},model:{value:e.row.lockStock,callback:function(r){t.$set(e.row,"lockStock",r)},expression:"scope.row.lockStock"}})]}}],null,!1,4284172555)}),r("el-table-column",{attrs:{label:"sku编码",prop:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:""},model:{value:e.row.skuCode,callback:function(r){t.$set(e.row,"skuCode",r)},expression:"scope.row.skuCode"}})]}}],null,!1,2367269664)}),r("el-table-column",{attrs:{label:"价格",prop:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:""},model:{value:e.row.price,callback:function(r){t.$set(e.row,"price",r)},expression:"scope.row.price"}})]}}],null,!1,2812663853)}),r("el-table-column",{attrs:{label:"销量",prop:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:""},model:{value:e.row.sale,callback:function(r){t.$set(e.row,"sale",r)},expression:"scope.row.sale"}})]}}],null,!1,915885883)}),r("el-table-column",{attrs:{label:"操作",prop:"id",width:"60",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.delSku(e.$index)}}},[t._v("删除")])]}}],null,!1,575992357)})],1)],1)],1):t._e()],1),r("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.preStep1}},[t._v("返回上一步")])],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.nextStep1}},[t._v("下一步,填写移动端详情")])],1)],1)],1):t._e(),3===t.active?r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix"},[r("span",[t._v("详情描述")])]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"商品详情"}},[r("Tinymce",{model:{value:t.form.product.detailMobileHtml,callback:function(e){t.$set(t.form.product,"detailMobileHtml",e)},expression:"form.product.detailMobileHtml"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{attrs:{id:"",type:"textarea",placeholder:"备注",rows:"3"},model:{value:t.form.product.note,callback:function(e){t.$set(t.form.product,"note",e)},expression:"form.product.note"}})],1)],1)],1),r("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.preStep1}},[t._v("返回上一步")])],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.saveSkuList}},[t._v("提交保存")])],1)],1)],1):t._e()],1)],1)])},a=[],n=r("5530"),i=(r("d81d"),r("7db0"),r("d3b7"),r("b0c0"),r("a15b"),r("a434"),r("4de4"),r("159b"),r("e9c4"),r("8256")),l=r("6cd9"),s=r("a3e6"),c=r("1b62"),u=r("5c96"),d={components:{Tinymce:i["a"]},mixins:[c["a"]],data:function(){return{color:"",colorList:[],sizeList:[],size:"",albumPicsArr:[],leju:[],form:{pmsSkuStockList:[],product:{albumPics:"",brandId:"",brandName:"",deleteStatus:0,description:"",detailDesc:"",detailMobileHtml:"",detailTitle:"",keywords:"",lowStock:"",name:"",newStatus:"",note:"",promotionPrice:0,originalPrice:"",pic:"",previewStatus:"",price:"",productAttributeCategoryId:"",productCategoryId:"",productCategoryName:"",productSn:"",promotionType:"",publishStatus:"",recommendStatus:"",serviceIds:"",sort:"",verifyStatus:"",weight:""}},active:1,brandList:[],serviceIds:[],dialogVisible:!1,disabled:!1,dialogImageUrl:""}},created:function(){var t=this;this.$route.query.id&&Object(l["f"])(this.$route.query.id).then((function(e){var r=e.data;t.form.product=r.product,t.form.pmsSkuStockList=r.skus})),this.initKindList(),Object(l["e"])().then((function(e){t.brandList=e.data.items}))},mounted:function(){},methods:{initKindList:function(){var t=this;Object(s["a"])().then((function(e){var r=e.data.items.map((function(t){return Object(n["a"])(Object(n["a"])({},t.category),{},{children:t.children})}));t.lejuData=r,t.leju=r.find((function(t){return"乐居"===t.name})).children}))},getCategoryName:function(t){this.form.product.productCategoryName=this.leju.find((function(e){return e.id===t})).name},getBrandName:function(t){this.form.product.brandName=this.brandList.find((function(e){return e.id===t})).name},handleAvatarSuccess:function(t){this.form.product.pic=t.data.fileUrl},valChange:function(t){this.form.product.serviceIds=t.join(",")},nextStep:function(){this.active=2},nextStep1:function(){this.active=3},uploadImg:function(t){this.albumPicsArr.push(t.data.fileUrl),this.albumPicsArr.length>=2&&(this.form.product.albumPics=this.albumPicsArr.join(","))},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},addColor:function(){var t=this;if(0!==this.color.length&&!this.colorList.find((function(e){return e.name===t.color}))){var e={name:this.color,isselect:!1};this.colorList.push(e),this.color=""}},addSize:function(){var t=this;if(0!==this.size.length&&!this.sizeList.find((function(e){return e.name===t.size}))){var e={name:this.size,isselect:!1};this.sizeList.push(e),this.size=""}},delColor:function(t){this.colorList.splice(t,1)},delSize:function(t){this.sizeList.splice(t,1)},addSkuList:function(){var t=this,e=this.colorList.filter((function(t){return t.isselect})),r=this.sizeList.filter((function(t){return t.isselect}));e.forEach((function(e){r.forEach((function(r){var o=[{key:"颜色",value:e.name},{key:"大小",value:r.name}],a={lockStock:"",lowStock:"",pic:"",price:"",promotionPrice:"",sale:"",skuCode:"",spData:o,stock:"",modifyTime:"",createTime:""};t.form.pmsSkuStockList.push(a)}))}))},addSkuRow:function(){var t=[{key:"",value:""},{key:"",value:""}],e={lockStock:"",lowStock:"",pic:"",price:"",promotionPrice:"",sale:"",skuCode:"",spData:t,stock:"",modifyTime:"",createTime:""};this.form.pmsSkuStockList.push(e)},handleAvatarSuccessSku:function(t,e){this.form.pmsSkuStockList[e].pic=t},delSku:function(t){this.form.pmsSkuStockList.splice(t,1)},preStep1:function(){this.active=this.active-1},saveSkuList:function(){var t=this;this.form.product.promotionType=0,this.form.pmsSkuStockList.forEach((function(t){t.spData=JSON.stringify(t.spData)})),Object(l["a"])(this.form).then((function(e){var r=e.success,o=e.message;r?(u["Message"].success("添加成功"),t.$router.push("/goods/list")):u["Message"].error(o)}))}}},p=d,f=(r("9c0b"),r("2877")),m=Object(f["a"])(p,o,a,!1,null,"5dc6de8e",null);e["default"]=m.exports},"408a":function(t,e,r){var o=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=o(t))throw TypeError("Incorrect invocation");return+t}},"645d":function(t,e,r){},"6b75":function(t,e,r){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}r.d(e,"a",(function(){return o}))},"6cd9":function(t,e,r){"use strict";r.d(e,"e",(function(){return a})),r.d(e,"f",(function(){return n})),r.d(e,"g",(function(){return i})),r.d(e,"d",(function(){return l})),r.d(e,"c",(function(){return s})),r.d(e,"l",(function(){return c})),r.d(e,"b",(function(){return u})),r.d(e,"h",(function(){return d})),r.d(e,"j",(function(){return p})),r.d(e,"i",(function(){return f})),r.d(e,"k",(function(){return m})),r.d(e,"a",(function(){return h}));r("99af");var o=r("0c6d");function a(){return Object(o["a"])({url:"/lejuAdmin/brand/findAllBrand"})}function n(t){return Object(o["a"])({url:"/lejuAdmin/product/productSkusDetail/".concat(t)})}function i(t,e,r){return Object(o["a"])({url:"/lejuAdmin/product/productsByPage/".concat(t,"/").concat(e),method:"post",data:r})}function l(t){return Object(o["a"])({url:"/lejuAdmin/product/del/".concat(t),method:"delete"})}function s(t){return Object(o["a"])({url:"/lejuAdmin/sku/delSku/".concat(t),method:"delete"})}function c(t){return Object(o["a"])({url:"/lejuAdmin/sku/updateSkuInfo",method:"post",data:t})}function u(t){return Object(o["a"])({url:"/lejuAdmin/sku/addProductSkus",method:"post",data:t})}function d(t){return Object(o["a"])({url:"/lejuAdmin/product/switchNewStatus",method:"post",data:t})}function p(t){return Object(o["a"])({url:"/lejuAdmin/product/switchRecommandStatus",method:"post",data:t})}function f(t){return Object(o["a"])({url:"/lejuAdmin/product/switchPublishStatus",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/lejuAdmin/product/switchVerifyStatus",method:"post",data:t})}function h(t){return Object(o["a"])({url:"/lejuAdmin/product/addProductAndSkus",method:"post",data:t})}},"7db0":function(t,e,r){"use strict";var o=r("23e7"),a=r("b727").find,n=r("44d2"),i=r("ae40"),l="find",s=!0,c=i(l);l in[]&&Array(1)[l]((function(){s=!1})),o({target:"Array",proto:!0,forced:s||!c},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(l)},8256:function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tinymce-container",class:{fullscreen:t.fullscreen},style:{width:t.containerWidth}},[r("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),r("div",{staticClass:"editor-custom-btn-container"},[r("el-button",{staticClass:"btn",attrs:{type:"primary",size:"mini",icon:"el-icon-upload"}},[t._v("上传图片 "),r("input",{staticClass:"ipt-file",attrs:{type:"file"},on:{change:function(e){return t.fileChange(e)}}})])],1)])},a=[],n=(r("b680"),r("a9e3"),r("ac1f"),r("00b4"),["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"]),i=n,l=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],s=l,c=(r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("06c5"));function u(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Object(c["a"])(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){l=!0,n=t},f:function(){try{i||null==r["return"]||r["return"]()}finally{if(l)throw n}}}}var d=[];function p(){return window.tinymce}var f=function(t,e){var r=document.getElementById(t),o=e||function(){};if(!r){var a=document.createElement("script");a.src=t,a.id=t,document.body.appendChild(a),d.push(o);var n="onload"in a?i:l;n(a)}function i(e){e.onload=function(){this.onerror=this.onload=null;var t,r=u(d);try{for(r.s();!(t=r.n()).done;){var o=t.value;o(null,e)}}catch(a){r.e(a)}finally{r.f()}d=null},e.onerror=function(){this.onerror=this.onload=null,o(new Error("Failed to load "+t),e)}}function l(t){t.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var e,r=u(d);try{for(r.s();!(e=r.n()).done;){var o=e.value;o(null,t)}}catch(a){r.e(a)}finally{r.f()}d=null}}}r&&o&&(p()?o(null,r):d.push(o))},m=f,h=r("bc3a"),b=r.n(h),v=r("5fc1"),g=r("5c96"),y="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",k={name:"Tinymce",props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var t=this.width;return/^[\d]+(\.[\d]+)?$/.test(t)?"".concat(t,"px"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;m(y,(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:s,menubar:this.menubar,plugins:i,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(r){e.value&&r.setContent(e.value),e.hasInit=!0,r.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0,t.$emit("input",r.getContent())}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))},images_upload_handler:function(t,r,o,a){a(0);var n=t.blob(),i=new FormData;i.append("file",n);var l=Object(v["a"])();b.a.post("/lejuAdmin/material/uploadFileOss",i,{headers:{token:l}}).then((function(t){var o=t.data;o.success&&(r(o.data.fileUrl),window.tinymce.get(e.tinymceId).insertContent('<img src="'.concat(o.ossUrl,'" >'))),a(100)})).catch((function(t){console.log(t),a(100)}))}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},setDelayContent:function(t){var e=this,r=setInterval((function(){window.tinymce&&(window.tinymce.get(e.tinymceId).setContent(t),clearInterval(r))}),500)},getContent:function(){return window.tinymce.get(this.tinymceId).getContent()},fileChange:function(t){var e=this,r=t.target.files,o=r[0],a=new FormData;a.append("file",o);var n=Object(v["a"])();b.a.post("/lejuAdmin/material/uploadFileOss",a,{headers:{token:n}}).then((function(t){var r=t.data;r.success?(e.imageSuccessCBK(r.data.fileUrl),window.tinymce.get(e.tinymceId).insertContent('<img src="'.concat(r.ossUrl,'" >'))):g["Message"].error(r.data.message)}))},imageSuccessCBK:function(t){window.tinymce.get(this.tinymceId).insertContent('<img class="wscnph" src="'.concat(t,'" >'))}}},w=k,S=(r("d52b"),r("2877")),_=Object(S["a"])(w,o,a,!1,null,"76326418",null);e["a"]=_.exports},"9c0b":function(t,e,r){"use strict";r("eb9e")},a15b:function(t,e,r){"use strict";var o=r("23e7"),a=r("44ad"),n=r("fc6a"),i=r("a640"),l=[].join,s=a!=Object,c=i("join",",");o({target:"Array",proto:!0,forced:s||!c},{join:function(t){return l.call(n(this),void 0===t?",":t)}})},a3e6:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return n}));var o=r("0c6d");function a(){return Object(o["a"])({url:"/lejuAdmin/category/getAllCategory"})}function n(t){return Object(o["a"])({url:"/lejuAdmin/category/updateCategory",method:"post",data:t})}},a434:function(t,e,r){"use strict";var o=r("23e7"),a=r("23cb"),n=r("a691"),i=r("50c4"),l=r("7b0b"),s=r("65f0"),c=r("8418"),u=r("1dde"),d=r("ae40"),p=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var r,o,u,d,p,f,g=l(this),y=i(g.length),k=a(t,y),w=arguments.length;if(0===w?r=o=0:1===w?(r=0,o=y-k):(r=w-2,o=h(m(n(e),0),y-k)),y+r-o>b)throw TypeError(v);for(u=s(g,o),d=0;d<o;d++)p=k+d,p in g&&c(u,d,g[p]);if(u.length=o,r<o){for(d=k;d<y-o;d++)p=d+o,f=d+r,p in g?g[f]=g[p]:delete g[f];for(d=y;d>y-o+r;d--)delete g[d-1]}else if(r>o)for(d=y-o;d>k;d--)p=d+o-1,f=d+r-1,p in g?g[f]=g[p]:delete g[f];for(d=0;d<r;d++)g[d+k]=arguments[d+2];return g.length=y-o+r,u}})},a9e3:function(t,e,r){"use strict";var o=r("83ab"),a=r("da84"),n=r("94ca"),i=r("6eeb"),l=r("5135"),s=r("c6b6"),c=r("7156"),u=r("c04e"),d=r("d039"),p=r("7c73"),f=r("241c").f,m=r("06cf").f,h=r("9bf2").f,b=r("58a8").trim,v="Number",g=a[v],y=g.prototype,k=s(p(y))==v,w=function(t){var e,r,o,a,n,i,l,s,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=b(c),e=c.charCodeAt(0),43===e||45===e){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+c}for(n=c.slice(2),i=n.length,l=0;l<i;l++)if(s=n.charCodeAt(l),s<48||s>a)return NaN;return parseInt(n,o)}return+c};if(n(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var S,_=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof _&&(k?d((function(){y.valueOf.call(r)})):s(r)!=v)?c(new g(w(e)),r,_):w(e)},x=o?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;x.length>C;C++)l(g,S=x[C])&&!l(_,S)&&h(_,S,m(g,S));_.prototype=y,y.constructor=_,i(a,v,_)}},b680:function(t,e,r){"use strict";var o=r("23e7"),a=r("a691"),n=r("408a"),i=r("1148"),l=r("d039"),s=1..toFixed,c=Math.floor,u=function(t,e,r){return 0===e?r:e%2===1?u(t,e-1,r*t):u(t*t,e/2,r)},d=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},p=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));o({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,r,o,l,s=n(this),p=a(t),f=[0,0,0,0,0,0],m="",h="0",b=function(t,e){var r=-1,o=e;while(++r<6)o+=t*f[r],f[r]=o%1e7,o=c(o/1e7)},v=function(t){var e=6,r=0;while(--e>=0)r+=f[e],f[e]=c(r/t),r=r%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var r=String(f[t]);e=""===e?r:e+i.call("0",7-r.length)+r}return e};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(m="-",s=-s),s>1e-21)if(e=d(s*u(2,69,1))-69,r=e<0?s*u(2,-e,1):s/u(2,e,1),r*=4503599627370496,e=52-e,e>0){b(0,r),o=p;while(o>=7)b(1e7,0),o-=7;b(u(10,o,1),0),o=e-1;while(o>=23)v(1<<23),o-=23;v(1<<o),b(1,1),v(2),h=g()}else b(0,r),b(1<<-e,0),h=g()+i.call("0",p);return p>0?(l=h.length,h=m+(l<=p?"0."+i.call("0",p-l)+h:h.slice(0,l-p)+"."+h.slice(l-p))):h=m+h,h}})},d52b:function(t,e,r){"use strict";r("645d")},eb9e:function(t,e,r){}}]);