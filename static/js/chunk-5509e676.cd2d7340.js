(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5509e676"],{"0c6d":function(e,t,r){"use strict";r("d3b7");var s,a=r("bc3a"),o=r.n(a),n=r("5c96"),l=r("4360"),i=r("5fc1"),d=void 0;s="http://leju.bufan.cloud";var c=o.a.create({baseURL:s,timeout:5e3});c.interceptors.request.use((function(e){return Object(i["a"])()&&(e.headers["token"]=Object(i["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return 2e4!==t.code?(Object(n["Message"])({message:t.message||"Error",type:"error",duration:5e3}),20002===t.code&&(Object(i["c"])(),Object(i["d"])(),d.$router.push("/login")),50008!==t.code&&50012!==t.code&&50014!==t.code||n["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){l["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(n["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=c},"2fd8":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n}));r("99af");var s=r("0c6d");function a(e,t,r){return Object(s["a"])({url:"/lejuAdmin/order/findOrdersByPage/".concat(e,"/").concat(t),method:"post",data:r})}function o(e){return Object(s["a"])({url:"/lejuAdmin/order/orderDetail/".concat(e)})}function n(e){return Object(s["a"])({url:"/lejuAdmin/order/sendDone",method:"post",data:e})}},"5fe7":function(e,t,r){"use strict";r("96ea")},"8aa59":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e.orderList.orderBase?r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix"},[r("el-steps",{attrs:{active:e.orderList.orderBase.status,"align-center":""}},[r("el-step",{attrs:{title:"待付款",description:e.orderList.orderBase.createTime}}),r("el-step",{attrs:{title:"待发货",description:e.orderList.orderBase.paymentTime}}),r("el-step",{attrs:{title:"已发货",description:e.orderList.orderBase.deliveryTime}}),r("el-step",{attrs:{title:"已完成",description:e.orderList.orderBase.modifyTime}}),r("el-step",{attrs:{title:"退货",description:e.orderList.orderBase.finishTime}})],1)],1),r("div",{staticClass:"clearfix"},[r("h4",[e._v(" 订单信息: "),0==e.orderList.orderBase.status?r("el-button",{attrs:{type:"danger",size:"mini",plain:""}},[e._v("待付款")]):e._e(),1==e.orderList.orderBase.status?r("el-button",{attrs:{size:"mini",type:"warning",plain:""}},[e._v(" 待发货 ")]):e._e(),2==e.orderList.orderBase.status?r("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[e._v(" 已发货 ")]):e._e(),3==e.orderList.orderBase.status?r("el-button",{attrs:{size:"mini",type:"danger",plain:""}},[e._v(" 已完成 ")]):e._e(),4==e.orderList.orderBase.status?r("el-button",{attrs:{size:"mini",type:"danger",plain:""}},[e._v(" 退货 ")]):e._e(),5==e.orderList.orderBase.status?r("el-button",{attrs:{size:"mini",type:"danger",plain:""}},[e._v(" 无效订单 ")]):e._e()],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[e._v(" 订单金额:"),r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderList.orderBase.payAmount))])]),r("el-col",{attrs:{span:6}},[e._v(" 订单编号:"+e._s(e.orderList.orderBase.orderSn)+" ")]),r("el-col",{attrs:{span:6}},[e._v(" 用户账户:"+e._s(e.orderList.orderBase.memberUsername)+" ")]),r("el-col",{attrs:{span:6}},[e._v(" 订单备注:"+e._s(e.orderList.orderBase.note)+" ")])],1),r("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[e._v(" 下单时间:"),r("span",[e._v(e._s(e.orderList.orderBase.createTime))])]),r("el-col",{attrs:{span:6}},[e._v(" 付款时间:"+e._s(e.orderList.orderBase.paymentTime)+" ")]),r("el-col",{attrs:{span:6}},[e._v(" 发货时间:"+e._s(e.orderList.orderBase.deliveryTime)+" ")]),r("el-col",{attrs:{span:6}},[e._v(" 收货时间:"+e._s(e.orderList.orderBase.modifyTime)+" ")])],1)],1),r("div",{staticClass:"clearfix"},[r("h4",[e._v("收货人信息:")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[e._v(" 收货人:"),r("span",[e._v(e._s(e.orderList.orderBase.receiverName))])]),r("el-col",{attrs:{span:6}},[e._v(" 用户人姓名:"+e._s(e.orderList.orderBase.memberUsername)+" ")]),r("el-col",{attrs:{span:6}},[e._v(" 手机号码:"+e._s(e.orderList.orderBase.receiverPhone)+" ")]),r("el-col",{attrs:{span:6}},[e._v(" 邮政编码:"+e._s(e.orderList.orderBase.receiverPostCode)+" ")])],1),r("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[e._v(" 省市区:"),r("span",[e._v(e._s(e.orderList.orderBase.receiverProvince)+e._s(e.orderList.orderBase.receiverCity)+e._s(e.orderList.orderBase.receiverRegion))])]),r("el-col",{attrs:{span:6}},[e._v(" 详细地址:"+e._s(e.orderList.orderBase.receiverDetailAddress)+" ")])],1)],1),r("div",{staticClass:"clearfix"},[r("h4",[e._v("商品信息")]),r("el-table",{attrs:{data:e.orderList.orderItems,border:"",stripe:""}},[r("el-table-column",{attrs:{label:"商品名称",prop:"productName"}}),r("el-table-column",{attrs:{label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{attrs:{src:e.row.productPic,width:"100",height:"100",alt:""}})]}}],null,!1,1956167375)}),r("el-table-column",{attrs:{label:"是否退货"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isReturn?r("span",[e._v("否")]):e._e(),1==t.row.isReturn?r("span",[e._v("是")]):e._e()]}}],null,!1,430078556)}),r("el-table-column",{attrs:{label:"品牌",prop:"productBrand"}}),r("el-table-column",{attrs:{label:"价格",prop:"productPrice"}}),r("el-table-column",{attrs:{label:"数量",prop:"productQuantity"}}),r("el-table-column",{attrs:{label:"小计",prop:"totalPrice"}})],1),r("h4",[e._v("费用信息:")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[e._v(" 运费金额:"),r("span",{staticStyle:{color:"red"}},[e._v("0")])]),r("el-col",{attrs:{span:6}},[e._v(" 订单总金额:"),r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderList.orderBase.totalAmount))])]),r("el-col",{attrs:{span:6}},[e._v(" 实际金额:"),r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderList.orderBase.payAmount))])]),r("el-col",{attrs:{span:6}},[e._v(" 促销优惠金额:"),r("span",{staticStyle:{color:"red"}},[e._v("0")])])],1)],1),r("div",{staticClass:"clearfix"},[r("h4",[e._v(" 物流信息:"+e._s(e.orderList.orderBase.deliveryCompany)+e._s(e.orderList.orderBase.deliverySn)+" ")]),1===e.orderList.orderBase.status?r("div",{staticClass:"sureTo"},[r("el-form",{attrs:{model:e.forms,"label-width":"100px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"物流公司"}},[r("el-select",{attrs:{placeholder:"请选择快递公司"},model:{value:e.forms.deliveryCompany,callback:function(t){e.$set(e.forms,"deliveryCompany",t)},expression:"forms.deliveryCompany"}},e._l(e.company,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"物流单号"}},[r("el-input",{attrs:{placeholder:"请填写物流单号"},model:{value:e.forms.deliverySn,callback:function(t){e.$set(e.forms,"deliverySn",t)},expression:"forms.deliverySn"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{staticStyle:{display:"flex","justify-content":"center","margin-top":"20px"},attrs:{span:8,offset:8}},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.sendDoneOrder}},[e._v(" 确认发货 ")])],1)],1)],1)],1):e._e(),2==e.orderList.orderBase.status||3==e.orderList.orderBase.status||4==e.orderList.orderBase.status?r("div",{staticClass:"table-box"},[r("el-table",{attrs:{data:e.list,border:"",stripe:""}},[r("el-table-column",{attrs:{label:"时间",prop:"date"}}),r("el-table-column",{attrs:{label:"状态",prop:"status"}}),r("el-table-column",{attrs:{label:"备注",prop:"note"}})],1)],1):e._e()])]):e._e()],1)},a=[],o=r("2fd8"),n={data:function(){return{orderList:[],list:[{date:"2015-03-06 21:16:58",status:"深圳市横岗速递营销部已收件",note:" "},{date:"2015-03-07 14:25:00",status:"离开深圳市 发往广州市",note:" "},{date:"2015-03-08 00:17:00",status:"\t到达广东速递物流公司广航中心处理中心（经转）",note:" "},{date:"2015-03-08 01:15:00",status:"离开广州市 发往北京市（经转）",note:" "},{date:"2015-03-09 09:01:00",status:"到达北京黄村转运站处理中心（经转）",note:" "},{date:"2015-03-09 18:39:00",status:"离开北京市 发往呼和浩特市（经转）",note:" "},{date:"2015-03-10 18:06:00",status:"到达 呼和浩特市 处理中心",note:""},{date:"2015-03-11 09:53:48",status:"呼和浩特市邮政速递物流分公司金川揽投部安排投递",note:"投递员姓名：安长虹;联系电话：18047140142"}],company:["顺丰快递","中国邮政","韵达快递","中通快递","极兔兔快递","圆通快递","京东快递"],forms:{deliveryCompany:"",deliverySn:""}}},created:function(){var e=this;Object(o["b"])(this.$route.query.id).then((function(t){console.log(t.data),e.orderList=t.data.orderDetail}))},mounted:function(){},methods:{sendDoneOrder:function(){var e=this;Object(o["c"])({orderId:this.orderList.orderBase.id,deliverySn:this.forms.deliverySn,deliveryCompany:this.forms.deliveryCompany}).then((function(t){var r=t.success;r&&e.$router.push("/order/po")}))}}},l=n,i=(r("5fe7"),r("2877")),d=Object(i["a"])(l,s,a,!1,null,"a8239b84",null);t["default"]=d.exports},"96ea":function(e,t,r){}}]);